<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>äººç”Ÿã‚²ãƒ¼ãƒ  èƒŒæ™¯ãƒœãƒ¼ãƒ‰ï¼‹ã‚³ãƒç‰ˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: sans-serif;
  text-align: center;
  background: url('A_digital_2D_illustration_of_a_board_game_in_the_s.png') no-repeat center center;
  background-size: contain;
  height: 100vh;
}
#players { display: flex; justify-content: center; flex-wrap: wrap; margin: 10px; }
.player { background: rgba(255,255,255,0.8); border-radius: 10px; padding: 5px 10px; margin: 5px; }
.active { transform: translateY(-10px); border: 3px solid red; }

#board { position: relative; width:1024px; height:1024px; margin: 20px auto; }
.cell { position:absolute; width:80px; height:80px; background: rgba(255,255,255,0.6);
  border:2px solid #333; text-align:center; line-height:80px; font-weight:bold; border-radius:10px;}
.cell.question { background:#ffe066; }
.cell.goal { background:#90dbf4; }

#dice { font-size:60px; margin:15px; }
button { font-size:18px; padding:10px 20px; margin:10px; border:none; border-radius:12px; background:#ff6f91; color:white; cursor:pointer;}
button:hover { background:#ff4f7b; }

.player-marker { position:absolute; font-weight:bold; padding:2px 5px; background:rgba(255,255,255,0.9); border-radius:5px; border:1px solid #333; }
</style>
</head>
<body>

<h1>ğŸ‰ç¥å’æ¥­ï¼ï¼éƒ¨æ´»ç‰ˆï¼ï¼äººç”Ÿã‚²ãƒ¼ãƒ ï¼ï¼ğŸ‰</h1>
<div id="players"></div>
<div id="dice">ğŸ²</div>
<button onclick="startDice()">å›ã™</button>
<button onclick="stopDice()">æ­¢ã‚ã‚‹</button>

<div id="board">
  <!-- 25ãƒã‚¹ä»®åº§æ¨™ -->
  <div class="cell question" data-num="1" style="top:900px; left:50px;">?</div>
  <div class="cell" data-num="2" style="top:900px; left:150px;">2</div>
  <div class="cell" data-num="3" style="top:900px; left:250px;">3</div>
  <div class="cell question" data-num="4" style="top:900px; left:350px;">?</div>
  <div class="cell" data-num="5" style="top:900px; left:450px;">5</div>
  <div class="cell" data-num="6" style="top:800px; left:450px;">6</div>
  <div class="cell question" data-num="7" style="top:700px; left:450px;">?</div>
  <div class="cell" data-num="8" style="top:700px; left:350px;">8</div>
  <div class="cell question" data-num="9" style="top:700px; left:250px;">?</div>
  <div class="cell" data-num="10" style="top:700px; left:150px;">10</div>
  <div class="cell" data-num="11" style="top:600px; left:150px;">11</div>
  <div class="cell question" data-num="12" style="top:600px; left:250px;">?</div>
  <div class="cell" data-num="13" style="top:600px; left:350px;">13</div>
  <div class="cell question" data-num="14" style="top:600px; left:450px;">?</div>
  <div class="cell" data-num="15" style="top:500px; left:450px;">15</div>
  <div class="cell question" data-num="16" style="top:400px; left:450px;">?</div>
  <div class="cell" data-num="17" style="top:400px; left:350px;">17</div>
  <div class="cell question" data-num="18" style="top:400px; left:250px;">?</div>
  <div class="cell" data-num="19" style="top:400px; left:150px;">19</div>
  <div class="cell goal" data-num="20" style="top:300px; left:150px;">GOAL</div>
</div>

<script>
const playerCount = 10;
const players = [];
let current = 0;
let rolling = false;
let interval;
let currentDice = 1;

// ä»®ãƒã‚¹åº§æ¨™ï¼ˆ25ãƒã‚¹åˆ†ï¼‰
const positions = [
  {top:900,left:50},{top:900,left:150},{top:900,left:250},{top:900,left:350},{top:900,left:450},
  {top:800,left:450},{top:700,left:450},{top:700,left:350},{top:700,left:250},{top:700,left:150},
  {top:600,left:150},{top:600,left:250},{top:600,left:350},{top:600,left:450},{top:500,left:450},
  {top:400,left:450},{top:400,left:350},{top:400,left:250},{top:400,left:150},{top:300,left:150},
  {top:300,left:250},{top:300,left:350},{top:300,left:450},{top:200,left:450},{top:200,left:350}
];

// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åå…¥åŠ›ï¼‹ã‚³ãƒä½œæˆ
for(let i=0;i<playerCount;i++){
  const name = prompt(`ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼${i+1}ã®åå‰`);
  players.push({name,pos:0,money:10000});
  const div = document.createElement("div");
  div.className="player-marker";
  div.id="player"+i;
  div.innerHTML=name; // ã“ã“ã‚’ <img src="ç”»åƒ.png"> ã«å¤‰ãˆã‚Œã°ç”»åƒã‚‚å¯
  div.style.top=positions[0].top+"px";
  div.style.left=positions[0].left+"px";
  document.getElementById("board").appendChild(div);
}

function drawPlayers(){
  const div = document.getElementById("players");
  div.innerHTML="";
  players.forEach((p,i)=>{
    const d=document.createElement("div");
    d.className="player"+(i===current?" active":"");
    d.innerHTML=`${p.name}<br>Â¥${p.money}`;
    div.appendChild(d);
  });
}

function startDice(){
  if(rolling) return;
  rolling = true;
  interval = setInterval(()=>{
    currentDice = Math.floor(Math.random()*6)+1;
    document.getElementById("dice").textContent=currentDice;
  },100);
}

function stopDice(){
  if(!rolling) return;
  rolling = false;
  clearInterval(interval);
  movePlayer(currentDice);
}

function updatePlayerPosition(index){
  const p=players[index];
  const el=document.getElementById("player"+index);
  el.style.top=positions[p.pos].top+"px";
  el.style.left=positions[p.pos].left+"px";
}

function movePlayer(num){
  const p=players[current];
  p.pos=Math.min(24,p.pos+num);
  
  // ï¼Ÿãƒã‚¹ã§ãŠé‡‘ã‚¤ãƒ™ãƒ³ãƒˆ
  if(p.pos%5===1 && p.pos!==20){
    const moneyEvents=[1000,5000,10000,-1000,-5000,-10000];
    const m=moneyEvents[Math.floor(Math.random()*moneyEvents.length)];
    p.money+=m;
    alert(`${p.name} ã¯ ${m>0?"+":"-"}${Math.abs(m)}å††`);
  }

  updatePlayerPosition(current);

  if(p.pos>=20){
    alert(`${p.name} ã‚´ãƒ¼ãƒ«ï¼`);
    showResult();
    return;
  }

  current=(current+1)%players.length;
  drawPlayers();
}

function showResult(){
  let result="ğŸ çµæœç™ºè¡¨ ğŸ\n";
  players.sort((a,b)=>b.money-a.money);
  players.forEach(p=>{ result+=`${p.name}ï¼šÂ¥${p.money}\n`; });
  alert(result);
}

drawPlayers();
</script>

</body>
</html>
