<script>
const rewardSquares = [5, 12, 18, 24, 30]; 

const board = document.getElementById("board");

for(let i=1;i<=35;i++){
  const square = document.createElement("div");
  square.className = "square";
  square.id = "square"+i;

  if(i === 1){
    square.innerText = "å…¥å­¦";
  }
  else if(i === 35){
    square.innerText = "ã‚´ãƒ¼ãƒ«";
  }
  else{
    square.innerText = i;
  }

  board.appendChild(square);
}


// â–¼ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¨­å®š

let players = [];
let currentPlayer = 0;

let playerCount = prompt("ä½•äººã§éŠã¶ï¼Ÿï¼ˆæœ€å¤§14äººï¼‰");
playerCount = Number(playerCount);

if(playerCount > 14){
  alert("14äººã¾ã§ã§ã™ï¼");
  playerCount = 14;
}

for(let i=0;i<playerCount;i++){
  let name = prompt((i+1)+"äººç›®ã®åå‰ã‚’å…¥åŠ›ã—ã¦ã­");
  players.push({
    name:name,
    position:1,
    money:0
  });
}


// â–¼ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡¨ç¤º

function updatePlayers(){

  for(let i=1;i<=35;i++){
    let square = document.getElementById("square"+i);
    square.innerHTML = square.innerText.split("<")[0];
  }

  players.forEach((player,index)=>{
    let square = document.getElementById("square"+player.position);

    if(index === currentPlayer){
      square.innerHTML += "<br>ğŸ”´"+player.name;
    }else{
      square.innerHTML += "<br>ğŸ”µ"+player.name;
    }
  });
}

updatePlayers();


// â–¼ ã‚µã‚¤ã‚³ãƒ­å‡¦ç†

function rollDice(){

  function rollDice(){

  let dice = Math.floor(Math.random()*6)+1;

  let player = players[currentPlayer];

  document.getElementById("diceResult").innerText =
  player.name + " ã¯ " + dice + " ãŒå‡ºãŸï¼";

  player.position += dice;

  if(player.position > 35){
    player.position = 35;
  }

  // â–¼ ã”è¤’ç¾ãƒã‚¹åˆ¤å®š
  if(rewardSquares.includes(player.position)){

    let reward = Math.floor(Math.random()*5)+1;

    if(reward === 1){
      player.money += 3000;
      alert("ğŸ‰ +3000å††ï¼");
    }
    else if(reward === 2){
      player.money += 5000;
      alert("ğŸ‰ +5000å††ï¼");
    }
    else if(reward === 3){
      player.money += 10000;
      alert("ğŸ‰ +10000å††ï¼");
    }
    else if(reward === 4){
      alert("ğŸ¥¤ ã‚¸ãƒ¥ãƒ¼ã‚¹ã‚²ãƒƒãƒˆï¼");
    }
    else{
      alert("ğŸª ãŠè“å­ã‚²ãƒƒãƒˆï¼");
    }
  }

  updatePlayers();

  currentPlayer++;

  if(currentPlayer >= players.length){
    currentPlayer = 0;
  }
}
